
= form_with model: [:teacher, @school_user], local: true, method: :patch do |f|
  = render 'shared/error_messages', model_object: @school_user
  .lesson_form__label_and_input
    = f.label :start_at_date, class: 'required'
    .lesson_form__datetime_select
      = f.date_field :start_at_date, value: @school_user.start_at&.to_date || Time.zone.today
      = f.select :start_at_hour, (0..23).map{|e| [format('%02d', e), e]}, selected: @school_user.start_at&.hour || Time.zone.now.hour
      = f.label :start_at_hour, '時'
      = f.select :start_at_min, (0..5).map{|e| [format('%02d', e*10), e*10]}, selected: @school_user.start_at&.min&.floor(-1) || Time.zone.now.min.floor(-1)
      = f.label :start_at_min, '分'
  .lesson_form__label_and_input
    = f.label :end_at_date
    .lesson_form__datetime_select
      = f.date_field :end_at_date, value: @school_user.end_at&.to_date
      = f.select :end_at_hour, (8..21).map{|e| [format('%02d', e), e]}, include_blank: true, selected: @school_user.end_at&.hour
      = f.label :end_at_hour, '時'
      = f.select :end_at_min, (0..5).map{|e| [format('%02d', e*10), e*10]}, include_blank: true, selected: @school_user.end_at&.min&.floor(-1)
      = f.label :end_at_min, '分'
  = f.submit '登録する', class: 'lesson_form__submit_btn'
