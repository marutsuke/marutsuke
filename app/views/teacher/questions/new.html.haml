.flex
  .question_form_group
    .question_new_title
      .question_new_title__lesson_title= "#{@lesson_group.name}/#{@lesson.name}"
      .question_new_title__description 課題作成
    .question_form
      = form_with model: [:teacher, @question], local: true do |f|
        =render 'shared/error_messages', model_object: @question
        - display_order_now = @lesson.questions.index(@question) + 1
        .question_form__label_and_input
          = f.label :display_order, class: 'required'
          = f.select :display_order, (1..@questions.length + 5) , value: display_order_now
        .question_form__label_and_input
          = f.label :text
          = f.text_area :text, rows: '10', class: 'question_form__text_area'
        .question_form__label_and_input
          = f.file_field :image
          .flex
            = f.label :image
            %span (最大5MBまで)
        .question_form__check_box
          = f.check_box :publish, {class: 'question_form__check_box', checked: false}, false, true
          = f.label :publish, '非公開で保存'
        = f.hidden_field :lesson_id, value: @lesson.id
        = f.submit '登録する', class: 'question_form__submit_btn'





  .question_new_questions
    - @questions.each do |question|
      .question_section
        .question_section__left
          .question_section__title.mb40{class: question.decorate.unpublish_opacity_class}= "課題#{question.display_order} #{'(非公開)' unless question.publish}"
          .question_section__text{class: question.decorate.unpublish_opacity_class}= simple_format(question.text)
          .question_section__buttons
            = link_to '編集', '#', class: 'a-button a-button--edit mr16'
            -if question.publish?
              = link_to '非公開', '#', class: 'a-button a-button--cancel'
            - else
              = link_to '公開', '#', class: 'a-button a-button--primary'
        -if question.image.present?
          .question_section__right{class: question.decorate.unpublish_opacity_class}
            = image_tag question.image_url, alt: '', height: '', width: '100%'
      %hr




-# .lesson_show
-#   .lesson_show_title= "#{LessonGroup.human_attribute_name(:name)}: #{@lesson.lesson_group.name}(#{@lesson.lesson_group.school_building.name})"
-#   .lesson_show_title= Lesson.human_attribute_name(:name) + ':　' + @lesson.name
-#   .lesson_show_start_at= Lesson.human_attribute_name(:start_at) + ':　' + @lesson.decorate.start_at
-#   .lesson_show_end_at= Lesson.human_attribute_name(:end_at) + ':　' + @lesson.decorate.end_at
-# .question_new_form__title.mt24.ml16
-#   問題追加
-# .question_new_form.ml24
-#   = form_with model: [:teacher, @question], local: true do |f|
-#     =render 'shared/error_messages', model_object: @question
-#     - display_order_now = @lesson.questions.index(@question) + 1
-#     .question_form__label_and_input
-#       = f.label :display_order, class: 'required'
-#       = f.select :display_order, (1..@questions.length + 5) , value: display_order_now
-#     .question_form__label_and_input
-#       = f.label :title, class: 'required'
-#       = f.text_field :title
-#     .question_form__label_and_input
-#       = f.label :text
-#       = f.text_area :text, rows: '10', cols: '100'
-#     .question_form__label_and_input
-#       .flex
-#         = f.label :image
-#         %span (最大5MBまで)
-#       = f.file_field :image
-#     = f.hidden_field :lesson_id, value: @lesson.id
-#     = f.submit '登録する', class: 'question_form__submit_btn'
-# .question_infos
-#   - @questions.display_order&.each do |question|
-#     = link_to teacher_question_path(question.id), class: 'question_info' do
-#       .flex
-#         .question_info__title= "タイトル: #{ question.title } "
-#         .question_info__display_order= "表示順位: #{question.display_order}"
-#       - if question.image.present?
-#         = image_tag question&.image_url, alt: question.title, class: 'question_info__image'
-#       .question_info__text= "説明: #{ question.text } "
